webpackJsonp([0,3],{103:function(e,t,i){"use strict";var n=i(24),r=i(35),o=i(26),s=i(55);i.d(t,"a",function(){return a});var a=function(){function e(e,t,i){this.utils=e,this.assets=t,this.planet=i,this.asteroids=[],this.count=1e3,this.orbitAroundPlanet=!0}return e.prototype.randomVelocity=function(){return{x:this.utils.randomIntFromInterval(-100,100)/100,y:this.utils.randomIntFromInterval(-100,100)/100,z:this.utils.randomIntFromInterval(-100,100)/100}},e.prototype.randomPosition=function(){return{x:this.utils.randomIntFromInterval(-1e3,1e3),y:this.utils.randomIntFromInterval(-1e3,1e3),z:this.utils.randomIntFromInterval(-1e3,1e3)}},e.prototype.randomScale=function(){return this.utils.randomIntFromInterval(1,20)/100},e.prototype.create=function(e){this.scene=e;for(var t,i,r,o,s,a=new n.MeshStandardMaterial({color:526344,shading:n.FlatShading,side:n.FrontSide,blending:n.AdditiveBlending,metalness:0}),h=0;h<this.count;h++)t=this.assets.getModel("asteroid"+this.utils.randomIntFromInterval(1,3)),i=new n.Mesh(t,a),r=this.randomPosition(),o=this.randomVelocity(),s=this.randomScale(),i.position.set(r.x,r.y,r.z),this.orbitAroundPlanet&&(i.position.y=this.planet.planetPosition.planetPositionY+this.planet.planetRadius/2),i.scale.set(s,s,s),this.asteroids.push({mesh:i,velocity:o,angle:this.utils.randomIntFromInterval(0,360)}),this.scene.add(i)},e.prototype.animate=function(){for(var e,t,i,n=0;n<this.count;n++)e=this.asteroids[n].mesh,t=this.asteroids[n].velocity,this.orbitAroundPlanet?(e.position.x=this.planet.planetPosition.planetPositionX+(this.planet.planetRadius+t.x)*Math.sin(this.asteroids[n].angle*Math.PI/180),e.position.z=this.planet.planetPosition.planetPositionZ+(this.planet.planetRadius+t.z)*Math.cos(this.asteroids[n].angle*Math.PI/180),this.asteroids[n].angle-=.01):Math.abs(e.position.x)>1e3||Math.abs(e.position.y)>1e3||Math.abs(e.position.z)>1e3?(i=this.randomPosition(),e.position.set(i.x,i.y,i.z)):(e.position.x+=t.x,e.position.y+=t.y,e.position.z+=t.z,e.rotation.x+=t.x,e.rotation.y+=t.y,e.rotation.z+=t.z)},e.ctorParameters=function(){return[{type:r.a},{type:o.a},{type:s.a}]},e}()},104:function(e,t,i){"use strict";var n=i(24),r=i(35),o=i(26),s=i(54);i.d(t,"a",function(){return a});var a=function(){function e(e,t,i){this.utils=e,this.assets=t,this.cameraService=i,this.panels=[],this.projectionAngle=0,this.randomPanelStrings=["&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp","&nbsp"]}return e.prototype.create=function(e,t){this.scene=e,this.canvas=t;var i,r;i=document.getElementById("panel1"),i.style.height=60/731*this.canvas.clientHeight+"px",r=new n.Object3D,r.position.set(-1,0,1.3),this.scene.add(r),this.panels.push({name:"leftbottom",div:i,obj:r,alienText:!0}),i=document.getElementById("panel2"),i.style.height=60/731*this.canvas.clientHeight+"px",r=new n.Object3D,r.position.set(.2,0,1.3),this.scene.add(r),this.panels.push({name:"rightbottom",div:i,obj:r,alienText:!0}),this.projectionImage=new Image;var o=1024;this.projectionCanvas=document.createElement("canvas"),this.projectionCanvas.id="projectionTexture",this.projectionCanvas.width=this.projectionCanvas.height=o,this.projectionTexture=new n.Texture(this.projectionCanvas);var s=this.assets.getCubemap("ship");this.projectionMaterial=new n.MeshStandardMaterial({map:this.projectionTexture,envMap:s,metalness:1,shading:n.FlatShading,side:n.DoubleSide,transparent:!0,opacity:.5});var a=this;this.projectionImage.onload=function(){var e=a.projectionCanvas.getContext("2d");e.drawImage(a.projectionImage,0,0,a.projectionCanvas.width,a.projectionCanvas.width),a.projectionTexture.needsUpdate=!0},this.projectionImage.src="space/assets/textures/projection.png";var h=new n.Mesh(this.assets.getModel("projection"),this.projectionMaterial);h.receiveShadow=!0,this.scene.add(h),i=document.getElementById("mainPanel"),i.style.height=405/731*this.canvas.clientHeight+"px",r=new n.Object3D,r.position.set(-.545,1.47043,.71409),this.scene.add(r);var l=new n.Object3D;l.position.set(.545,1.47043,.71409),this.panels.push({name:"main",div:i,obj:r,obj2:l,alienText:!1})},e.prototype.animate=function(){for(var e,t,i,n,r,o,s="abcdefghijklmnopqrstuvwxyz",a=s.split(""),h=0;h<this.panels.length;h++)if(n=this.panels[h].div,this.cameraService.activeCamera!==this.cameraService.camera1)n.style.left="-10000px",n.style.top="-10000px";else{if(e=this.toScreenPosition(this.panels[h].obj,this.cameraService.camera),n.style.left=e.x+"px",n.style.top=e.y+"px","main"===this.panels[h].name){var l=this.toScreenPosition(this.panels[h].obj2,this.cameraService.camera);n.style.width=l.x-e.x+"px"}if(this.panels[h].alienText&&(t=0===this.utils.randomIntFromInterval(0,10))){if(this.randomPanelStrings.length<100){o="",r=25*Math.random();for(var u=0;u<r;u++)o+=a[Math.floor(Math.random()*a.length)];this.randomPanelStrings.push(o)}else o=this.randomPanelStrings[Math.floor(Math.random()*this.randomPanelStrings.length)];10===n.firstElementChild.firstElementChild.childNodes.length?(n.firstElementChild.firstElementChild.firstElementChild.innerHTML=o,n.firstElementChild.firstElementChild.appendChild(n.firstElementChild.firstElementChild.firstElementChild)):(i=document.createElement("div"),i.innerHTML=o,n.firstElementChild.firstElementChild.appendChild(i))}}var c=this.projectionCanvas.getContext("2d");c.clearRect(0,0,this.projectionCanvas.width,this.projectionCanvas.width),c.translate(this.projectionCanvas.width/2,this.projectionCanvas.width/2),c.rotate(1*Math.PI/180),c.translate(-this.projectionCanvas.width/2,-this.projectionCanvas.width/2),c.drawImage(this.projectionImage,0,0,this.projectionCanvas.width,this.projectionCanvas.width),this.projectionTexture.needsUpdate=!0,this.projectionMaterial.opacity=.5+Math.random()/5},e.prototype.toScreenPosition=function(e,t){var i=new n.Vector3,r=.5*this.canvas.width,o=.5*this.canvas.height;return e.updateMatrixWorld(),i.setFromMatrixPosition(e.matrixWorld),i.project(t),i.x=i.x*r+r,i.y=-(i.y*o)+o,{x:i.x,y:i.y}},e.ctorParameters=function(){return[{type:r.a},{type:o.a},{type:s.a}]},e}()},105:function(e,t,i){"use strict";var n=i(24),r=i(176);i.n(r);i.d(t,"a",function(){return o});var o=function(){function e(){}return e.prototype.create=function(){this.scene=new n.Scene,this.camera=new n.PerspectiveCamera(40,window.innerWidth/window.innerHeight,.1,1e4),this.camera.position.set(0,0,7),this.camera.lookAt(this.scene.position),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.left="0px",this.canvas.style.top="0px",this.canvas.style.zIndex="1000000",this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,document.body.appendChild(this.canvas),this.renderer=new n.WebGLRenderer({canvas:this.canvas,alpha:!1}),this.renderer.setPixelRatio(devicePixelRatio),this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=n.PCFSoftShadowMap,this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.light1=new n.DirectionalLight(16744448,1.5),this.light1.position.set(1,1,0).normalize(),this.scene.add(this.light1),this.light2=new n.DirectionalLight(16744448,1.5),this.light2.position.set(-1,1,0).normalize(),this.scene.add(this.light2),this.light3=new n.PointLight(4521898,15,25),this.light3.position.set(0,-3,0),this.scene.add(this.light3),this.light4=new n.PointLight(16729088,20,30),this.light4.position.set(3,3,0),this.scene.add(this.light4),this.scene.fog=new n.FogExp2(0,.15),this.geometry=new n.CylinderGeometry(1,1,30,32,1,!0),this.texture=n.ImageUtils.loadTexture("space/assets/textures/water.jpg"),this.texture.wrapT=n.RepeatWrapping;var e=new n.MeshLambertMaterial({color:16777215,map:this.texture,side:n.BackSide});this.mesh=new n.Mesh(this.geometry,e),this.mesh.rotation.x=Math.PI/2,this.mesh.position.y+=.5,this.scene.add(this.mesh);var t=this;!function e(){t.animationFrameId=requestAnimationFrame(e),t.animate(),t.renderer.render(t.scene,t.camera)}()},e.prototype.animate=function(){this.texture.offset.y-=.008,this.texture.offset.y%=1,this.texture.needsUpdate=!0},e.prototype.destroy=function(){var e=this,t=new r.TimelineLite({onComplete:function(){e.reallyDestroy()}});t.to(this.mesh.scale,1,{y:3,ease:r.Power2.easeOut});var i=new r.TimelineLite;i.to(this.mesh.position,.5,{z:1,ease:r.Power2.easeOut}),i.to(this.mesh.position,.5,{z:5,ease:r.Power2.easeIn})},e.prototype.reallyDestroy=function(){cancelAnimationFrame(this.animationFrameId),this.scene.remove(this.mesh),this.scene.remove(this.light1),this.scene.remove(this.light2),this.scene.remove(this.light3),this.scene.remove(this.light4),this.scene=null,this.camera=null,document.body.removeChild(this.canvas)},e.ctorParameters=function(){return[]},e}()},106:function(e,t,i){"use strict";var n=i(24),r=i(176),o=(i.n(r),i(35)),s=i(26),a=i(71),h=i(54);i.d(t,"a",function(){return l});var l=function(){function e(e,t,i,r){this.utils=e,this.assets=t,this.lightService=i,this.cameraService=r,this.audioLoader=new n.AudioLoader}return e.prototype.create=function(e){this.scene=e;var t=this.assets.getTexture("ship"),i=(this.assets.getTexture("ship_bump"),this.assets.getCubemap("ship"));i.format=n.RGBFormat,i.mapping=n.CubeReflectionMapping;var r=new n.MeshStandardMaterial({map:t,envMap:i,metalness:1,shading:n.SmoothShading,side:n.DoubleSide}),o=new n.Mesh(this.assets.getModel("ship"),r);o.receiveShadow=!0,o.castShadow=!0,this.scene.add(o);var s=new n.PositionalAudio(this.cameraService.listener1);this.audioLoader.load("space/assets/audio/innerloop.ogg",function(e){s.setBuffer(e),s.setRefDistance(1),s.setLoop(!0),s.play()},function(){},function(){}),o.add(s);var a=new n.MeshStandardMaterial({map:this.assets.getTexture("glas"),bumpMap:this.assets.getTexture("glas_bump"),bumpScale:.1,envMap:i,metalness:1,shading:n.SmoothShading,side:n.DoubleSide,transparent:!0}),h=new n.Mesh(this.assets.getModel("glas"),a);h.receiveShadow=!0,h.castShadow=!0,this.scene.add(h),this.movingShip=new n.Mesh(this.assets.getModel("ship_complete"),r),this.movingShip.receiveShadow=!0,this.movingShip.castShadow=!0,this.movingShip.scale.set(.1,.1,.1),this.movingShip.position.set(-50,-5,-19),this.scene.add(this.movingShip);var l=new n.PositionalAudio(this.cameraService.listener2);this.audioLoader.load("space/assets/audio/movingship.ogg",function(e){l.setBuffer(e),l.setRefDistance(1),l.setLoop(!0),l.play()},function(){},function(){}),this.movingShip.add(l);var u=new n.MeshStandardMaterial({map:this.assets.getTexture("wormhole"),metalness:1,shading:n.SmoothShading,side:n.DoubleSide,transparent:!0,opacity:1});this.wormhole=new n.Mesh(new n.PlaneGeometry(10,10,1,1),u),this.scene.add(this.wormhole),this.wormHoleLight=new n.PointLight(16777215,1),this.wormHoleLight.intensity=0,this.wormhole.add(this.wormHoleLight),this.animateMovingShip(),this.motherShip=new n.Mesh(this.assets.getModel("mothership"),r),this.motherShip.receiveShadow=!0,this.motherShip.castShadow=!0,this.motherShip.scale.set(2,2,2),this.motherShip.position.set(6,-15,-42),this.motherShip.rotateY(-30*Math.PI/180),this.scene.add(this.motherShip);var c=new n.PositionalAudio(this.cameraService.listener3);this.audioLoader.load("space/assets/audio/mothership.ogg",function(e){c.setBuffer(e),c.setRefDistance(2),c.setLoop(!0),c.play()},function(){},function(){}),this.motherShip.add(c),this.motherShipLight=new n.PointLight(49151,1),this.motherShipLight.castShadow=!0,this.motherShipLight.shadow.mapSize.width=this.lightService.shadowMapSize,this.motherShipLight.shadow.mapSize.height=this.lightService.shadowMapSize,this.motherShipLight.position.set(0,0,0),this.motherShip.add(this.motherShipLight),this.motherShipRing1=new n.Mesh(this.assets.getModel("mothership_ring1"),r),this.motherShipRing1.receiveShadow=!0,this.motherShipRing1.castShadow=!0,this.motherShip.add(this.motherShipRing1),this.motherShipRing2=new n.Mesh(this.assets.getModel("mothership_ring2"),r),this.motherShipRing2.receiveShadow=!0,this.motherShipRing2.castShadow=!0,this.motherShip.add(this.motherShipRing2);var p=new n.Mesh(this.assets.getModel("mothership_sphere"),new n.MeshBasicMaterial({color:16777215}));p.receiveShadow=!0,p.castShadow=!0,this.motherShip.add(p);for(var m,d=0;d<10;d++)m=new n.Mesh(new n.SphereGeometry(.075,4,4),r),m.position.set(0,0,4),this.motherShip.add(m),this.animateMotherShipDrone(m)},e.prototype.animate=function(){this.motherShipRing1.rotation.z+=.12,this.motherShipRing2.rotation.x-=.12},e.prototype.openWormhole=function(){var e=this;this.wormhole.scale.set(0,0,0),this.wormhole.rotation.y=90*Math.PI/180,this.wormhole.rotation.x=0,this.wormhole.position.set(this.movingShip.position.x,this.movingShip.position.y,this.movingShip.position.z),r.TweenMax.to(this.wormhole.scale,.5,{x:1,y:1,z:1,ease:r.Power2.easeOut,onComplete:function(){r.TweenMax.to(e.wormhole.scale,.5,{x:0,y:0,z:0,ease:r.Power2.easeIn})}}),r.TweenMax.to(this.wormHoleLight,.5,{intensity:1,ease:r.Power2.easeOut,onComplete:function(){r.TweenMax.to(e.wormHoleLight,.5,{intensity:0,ease:r.Power2.easeIn})}}),r.TweenMax.to(this.wormhole.rotation,1,{x:20,ease:r.Power2.easeInOut})},e.prototype.hideMovingShip=function(){this.movingShip.position.x=-1e4,this.movingShip.position.y=-1e4,this.movingShip.position.z=-1e4},e.prototype.animateMovingShip=function(){var e=this,t=-50,i=50,n=-10,o=0,s=-10,a=-2;this.movingShip;this.movingShip.position.y=this.utils.randomIntFromInterval(n,o),this.movingShip.position.z=this.utils.randomIntFromInterval(s,a);var h=this.utils.randomIntFromInterval(0,3),l=this.utils.randomIntFromInterval(0,1),u=0===l?this.utils.randomIntFromInterval(2,10):this.utils.randomIntFromInterval(1,2),c=0===l?this.utils.randomIntFromInterval(1,2):this.utils.randomIntFromInterval(2,10),p=[];switch(l){case 0:switch(this.movingShip.position.x=t,h){case 0:p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(s,a)]),p.push([i,this.utils.randomIntFromInterval(s,a)]);break;case 1:p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(n,o)]),p.push([i,this.utils.randomIntFromInterval(n,o)]);break;case 2:p.push([this.utils.randomIntFromInterval(t/2-2,t/2+2),this.utils.randomIntFromInterval(n,o)]),p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(n,o)]),p.push([this.utils.randomIntFromInterval(i/2-2,i/2+2),this.utils.randomIntFromInterval(n,o)]),p.push([i,this.utils.randomIntFromInterval(n,o)]);break;case 3:p.push([this.utils.randomIntFromInterval(t/2-2,t/2+2),this.utils.randomIntFromInterval(s,a)]),p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(s,a)]),p.push([this.utils.randomIntFromInterval(i/2-2,i/2+2),this.utils.randomIntFromInterval(s,a)]),p.push([i,this.utils.randomIntFromInterval(s,a)])}break;case 1:switch(this.movingShip.position.x=i,h){case 0:p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(s,a)]),p.push([t,this.utils.randomIntFromInterval(s,a)]);break;case 1:p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(n,o)]),p.push([t,this.utils.randomIntFromInterval(n,o)]);break;case 2:p.push([this.utils.randomIntFromInterval(i/2-2,i/2+2),this.utils.randomIntFromInterval(n,o)]),p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(n,o)]),p.push([this.utils.randomIntFromInterval(t/2-2,t/2+2),this.utils.randomIntFromInterval(n,o)]),p.push([t,this.utils.randomIntFromInterval(n,o)]);break;case 3:p.push([this.utils.randomIntFromInterval(i/2-2,i/2+2),this.utils.randomIntFromInterval(s,a)]),p.push([this.utils.randomIntFromInterval(-2,2),this.utils.randomIntFromInterval(s,a)]),p.push([this.utils.randomIntFromInterval(t/2-2,t/2+2),this.utils.randomIntFromInterval(s,a)]),p.push([t,this.utils.randomIntFromInterval(s,a)])}}this.openWormhole();var m,d=Math.round(Math.random());2!==h&&3!==h||1===d&&(l=this.utils.randomIntFromInterval(0,1),u=0===l?this.utils.randomIntFromInterval(2,10):this.utils.randomIntFromInterval(1,2),c=0===l?this.utils.randomIntFromInterval(1,2):this.utils.randomIntFromInterval(2,10),m=0===l?[{x:10,z:-this.utils.randomIntFromInterval(30,70)},{x:this.utils.randomIntFromInterval(1,5),z:-1e3}]:[{x:-70,z:-50},{x:-50,z:-1e3}]);var _=r.Power2.easeOut,v=r.Power2.easeIn,f=r.Power2.easeInOut,g=this;0===h?r.TweenMax.to(this.movingShip.position,u,{bezier:[{x:p[0][0],z:p[0][1]},{x:p[1][0],z:p[1][1]}],ease:f,onComplete:function(){g.openWormhole(),g.hideMovingShip(),setTimeout(function(){g.animateMovingShip()},e.utils.randomIntFromInterval(2e3,1e4))}}):1===h?r.TweenMax.to(this.movingShip.position,u,{bezier:[{x:p[0][0],y:p[0][1]},{x:p[1][0],y:p[1][1]}],ease:f,onComplete:function(){g.openWormhole(),g.hideMovingShip(),setTimeout(function(){g.animateMovingShip()},e.utils.randomIntFromInterval(2e3,1e4))}}):2===h?(0===d&&(m=[{x:p[2][0],y:p[2][1]},{x:p[3][0],y:p[3][1]}]),r.TweenMax.to(this.movingShip.position,u,{bezier:[{x:p[0][0],y:p[0][1]},{x:p[1][0],y:p[1][1]}],ease:_,onComplete:function(){r.TweenMax.to(e.movingShip.position,c,{bezier:m,ease:v,onComplete:function(){g.openWormhole(),g.hideMovingShip(),setTimeout(function(){g.animateMovingShip()},e.utils.randomIntFromInterval(2e3,1e4))}})}})):3===h&&(0===d&&(m=[{x:p[2][0],z:p[2][1]},{x:p[3][0],z:p[3][1]}]),r.TweenMax.to(this.movingShip.position,u,{bezier:[{x:p[0][0],z:p[0][1]},{x:p[1][0],z:p[1][1]}],ease:_,onComplete:function(){r.TweenMax.to(e.movingShip.position,c,{bezier:m,ease:v,onComplete:function(){g.openWormhole(),g.hideMovingShip(),setTimeout(function(){g.animateMovingShip()},e.utils.randomIntFromInterval(2e3,1e4))}})}}))},e.prototype.animateMotherShipDrone=function(e){var t,i=Math.round(Math.random()),n=0===i?4:6,o=Math.round(Math.random());0===i?e.position.z=4.5:e.position.z=6,0===o?(e.position.x=0,t=[{x:this.utils.randomIntFromInterval(5,10),z:n},{x:this.utils.randomIntFromInterval(50,500),z:this.utils.randomIntFromInterval(-500,500)},{x:this.utils.randomIntFromInterval(500,1e3),z:this.utils.randomIntFromInterval(-1e3,1e3)}]):(t=[{x:this.utils.randomIntFromInterval(500,1e3),z:this.utils.randomIntFromInterval(-1e3,1e3)},{x:this.utils.randomIntFromInterval(100,500),z:this.utils.randomIntFromInterval(-500,500)},{x:this.utils.randomIntFromInterval(5,10),z:n},{x:0,z:n}],e.position.x=t[0].x,e.position.z=t[0].z);var s=this,a=this.utils.randomIntFromInterval(10,20);r.TweenMax.to(e.position,a,{bezier:{type:"soft",values:t},delay:this.utils.randomIntFromInterval(5,20),ease:0===o?r.Power2.easeIn:r.Power2.easeOut,onComplete:function(){s.animateMotherShipDrone(e)}})},e.ctorParameters=function(){return[{type:o.a},{type:s.a},{type:a.a},{type:h.a}]},e}()},107:function(e,t,i){"use strict";var n=i(24),r=i(26);i.d(t,"a",function(){return o});var o=function(){function e(e){this.assets=e,this.latitude=0,this.longitude=0,this.phi=0,this.theta=0,this.size=2e3}return e.prototype.create=function(e){this.scene=e;var t=new n.BoxGeometry(this.size,this.size,this.size),i=new n.MeshBasicMaterial({map:this.getRandomStarField(600,2048,2048),side:n.BackSide});this.sky=new n.Mesh(t,i),this.scene.add(this.sky);var r=new n.MeshStandardMaterial({map:this.assets.getTexture("nebula"),metalness:1,shading:n.SmoothShading,side:n.DoubleSide,transparent:!0,opacity:.7}),o=new n.Mesh(new n.PlaneGeometry(100,100,1,1),r);o.position.set(30,-50,-100),this.scene.add(o)},e.prototype.animate=function(){this.latitude=Math.max(-85,Math.min(85,this.latitude)),this.phi=n.Math.degToRad(90-this.latitude),this.theta=n.Math.degToRad(this.longitude),this.sky.rotation.x+=1e-4,this.sky.rotation.y+=1e-4},e.prototype.getRandomStarField=function(e,t,i){var r=document.createElement("canvas");r.width=t,r.height=i;var o=r.getContext("2d");o.fillStyle="black",o.fillRect(0,0,t,i);for(var s=0;s<e;++s){var a=2*Math.random(),h=Math.floor(Math.random()*t),l=Math.floor(Math.random()*i);o.beginPath(),o.arc(h,l,a,0,2*Math.PI,!1),o.fillStyle="white",o.fill()}var u=new n.Texture(r);return u.needsUpdate=!0,u},e.ctorParameters=function(){return[{type:r.a}]},e}()},230:function(e,t,i){"use strict";var n=i(24),r=i(105),o=i(35),s=i(26),a=i(54),h=i(55),l=i(71),u=i(107),c=i(106),p=i(104),m=i(103);i.d(t,"a",function(){return g});var d=i(179)(n),_=i(517)(n),v=(i(515)(n),i(273)(n),i(518)(n),i(514)(n)),f=i(500),g=function(){function e(e,t,i,r,o,s,a,h,l,u){this.preloadeffectService=e,this.utils=t,this.assets=i,this.cameraService=r,this.planetService=o,this.lightService=s,this.skyboxService=a,this.shipService=h,this.panelService=l,this.asteroidService=u,this.enableGui=!1,this.clock=new n.Clock,this.bloomParams={projection:"normal",background:!1,exposure:.72,threshold:.7,strength:5.74,radius:0}}return Object.defineProperty(e.prototype,"canvas",{get:function(){return this.canvasRef.nativeElement},enumerable:!0,configurable:!0}),e.prototype.createScene=function(){this.scene=new n.Scene},e.prototype.initComposer=function(){this.renderPass=new d.RenderPass(this.scene,this.cameraService.camera),this.effectFXAA=new d.ShaderPass(_),this.effectFXAA.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight);var e=new d.ShaderPass(d.CopyShader);e.renderToScreen=!0;var t=new n.Vector2(window.innerWidth,window.innerHeight);this.bloomPass=new v(t,this.bloomParams.strength,this.bloomParams.radius,this.bloomParams.threshold),this.composer=new d(this.renderer),this.composer.setSize(window.innerWidth,window.innerHeight),this.composer.addPass(this.renderPass),this.composer.addPass(this.effectFXAA),this.composer.addPass(this.bloomPass),this.composer.addPass(e)},e.prototype.startRendering=function(){this.renderer=new n.WebGLRenderer({canvas:this.canvas}),this.renderer.setPixelRatio(devicePixelRatio),this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=n.PCFSoftShadowMap,this.renderer.gammaInput=!0,this.renderer.gammaOutput=!0,this.initComposer();var e=this;!function t(){requestAnimationFrame(t),e.assets.isPreloaded?(e.skyboxService.animate(),e.planetService.animate(e.clock),e.lightService.animate(),e.shipService.animate(),e.panelService.animate(),e.asteroidService.animate()):e.preloadeffectService.animate(),e.renderer.clear(),e.composer.render(e.clock.getDelta())}()},e.prototype.handleKeyboardEvent=function(e){"1"===e.key&&this.cameraService.toCam1(),"2"===e.key&&this.cameraService.toCam2(),"3"===e.key&&this.cameraService.toCam3(),"1"!==e.key&&"2"!==e.key&&"3"!==e.key||this.initComposer()},e.prototype.onKeyPress=function(e){},e.prototype.onDragEnter=function(e){},e.prototype.onDragLeave=function(e){},e.prototype.onDragOver=function(e){},e.prototype.onDrop=function(e){},e.prototype.onMouseDown=function(e){},e.prototype.onMouseMove=function(e){},e.prototype.onMouseUp=function(e){},e.prototype.onWheel=function(e){},e.prototype.onResize=function(e){this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.cameraService.camera&&(this.cameraService.camera.aspect=this.canvas.clientWidth/this.canvas.clientHeight,this.cameraService.camera.updateProjectionMatrix()),this.effectFXAA&&this.effectFXAA.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight),this.bloomPass&&this.bloomPass.setSize(this.canvas.clientWidth,this.canvas.clientHeight),this.renderer.setSize(this.canvas.clientWidth,this.canvas.clientHeight),this.composer.setSize(this.canvas.clientWidth,this.canvas.clientHeight),document.getElementById("panel1").style.height=60/731*this.canvas.clientHeight+"px",document.getElementById("panel2").style.height=60/731*this.canvas.clientHeight+"px"},e.prototype.initScene=function(){this.enableGui&&(this.devGui=new f.GUI),this.createScene(),this.cameraService.create(this.scene,this.canvas),this.cameraService.beforeIntro(),this.startRendering(),this.cameraService.animate(),this.enableGui&&this.devGui.open()},e.prototype.afterPreload=function(){this.planetService.create(this.scene),this.lightService.create(this.scene),this.skyboxService.create(this.scene),this.shipService.create(this.scene),this.panelService.create(this.scene,this.canvas),this.asteroidService.create(this.scene),this.preloadeffectService.destroy(),this.cameraService.intro()},e.prototype.ngAfterViewInit=function(){var e=this;this.assets.preloadDone$.subscribe(function(){e.afterPreload()}),this.preloadeffectService.create(),this.assets.start(),this.initScene()},e.ctorParameters=function(){return[{type:r.a},{type:o.a},{type:s.a},{type:a.a},{type:h.a},{type:l.a},{type:u.a},{type:c.a},{type:p.a},{type:m.a}]},e}()},26:function(e,t,i){"use strict";var n=i(1),r=i(24);i.d(t,"a",function(){return o});var o=function(){function e(){this.isPreloaded=!1,this.jsonLoader=new r.JSONLoader,this.textureLoader=new r.TextureLoader,this.cubemapLoader=new r.CubeTextureLoader,this.tDir="space/assets/textures/",this.loadTextures=[{name:"ship",file:this.tDir+"ship/ship3.jpg"},{name:"ship_bump",file:this.tDir+"ship/ship3_bump.jpg"},{name:"glas",file:this.tDir+"ship/glas_uv.png"},{name:"glas_bump",file:this.tDir+"ship/glas_uv_bump.jpg"},{name:"wormhole",file:this.tDir+"ship/wormhole.png"},{name:"star",file:this.tDir+"star_moving.png"},{name:"planetcloud",file:this.tDir+"planet/cloud.png"},{name:"planetsurface",file:this.tDir+"planet/surface.jpg"},{name:"projection",file:this.tDir+"projection.png"},{name:"planet_ring",file:this.tDir+"planet/planet_ring.png"},{name:"nebula",file:this.tDir+"nebula.png"}],this.textures={},this.mDir="space/assets/models/",this.loadModels=[{name:"ship",file:this.mDir+"ship5.json"},{name:"glas",file:this.mDir+"ship5_glas.json"},{name:"ship_complete",file:this.mDir+"ship_complete.json"},{name:"mothership",file:this.mDir+"mothership.json"},{name:"mothership_ring1",file:this.mDir+"mothership_ring1.json"},{name:"mothership_ring2",file:this.mDir+"mothership_ring2.json"},{name:"mothership_sphere",file:this.mDir+"mothership_sphere.json"},{name:"projection",file:this.mDir+"projection.json"},{name:"asteroid1",file:this.mDir+"asteroid1.json"},{name:"asteroid2",file:this.mDir+"asteroid2.json"},{name:"asteroid3",file:this.mDir+"asteroid3.json"},{name:"planet_ring",file:this.mDir+"planet_ring.json"}],this.models={},this.cDir="space/assets/textures/",this.loadCubemaps=[{name:"ship",files:[this.cDir+"cubemap_ship/east.jpg",this.cDir+"cubemap_ship/west.jpg",this.cDir+"cubemap_ship/up.jpg",this.cDir+"cubemap_ship/down.jpg",this.cDir+"cubemap_ship/north.jpg",this.cDir+"cubemap_ship/south.jpg"]}],this.cubemaps={},this.preloadDone$=new n.K}return e.prototype.preload=function(){var e=this;this.loadTextures.length?(this.textureLoading=this.loadTextures.pop(),this.textureLoader.load(this.textureLoading.file,function(t){e.textures[e.textureLoading.name]=t,e.preload()})):this.loadModels.length?(this.modelLoading=this.loadModels.pop(),this.jsonLoader.load(this.modelLoading.file,function(t){e.models[e.modelLoading.name]=t,e.preload()})):this.loadCubemaps.length?(this.cubemapLoading=this.loadCubemaps.pop(),this.cubemapLoader.load(this.cubemapLoading.files,function(t){e.cubemaps[e.cubemapLoading.name]=t,e.preload()})):(this.isPreloaded=!0,this.preloadDone$.emit())},e.prototype.start=function(){this.preload()},e.prototype.getTexture=function(e){return this.textures[e]},e.prototype.getModel=function(e){return this.models[e]},e.prototype.getCubemap=function(e){return this.cubemaps[e]},e.ctorParameters=function(){return[]},e}()},273:function(e,t){e.exports=function(e){return{uniforms:{tDiffuse:{value:null},time:{value:0},nIntensity:{value:.5},sIntensity:{value:.05},sCount:{value:4096},grayscale:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","uniform float time;","uniform bool grayscale;","uniform float nIntensity;","uniform float sIntensity;","uniform float sCount;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 cTextureScreen = texture2D( tDiffuse, vUv );","float dx = rand( vUv + time );","vec3 cResult = cTextureScreen.rgb + cTextureScreen.rgb * clamp( 0.1 + dx, 0.0, 1.0 );","vec2 sc = vec2( sin( vUv.y * sCount ), cos( vUv.y * sCount ) );","cResult += cTextureScreen.rgb * vec3( sc.x, sc.y, sc.x ) * sIntensity;","cResult = cTextureScreen.rgb + clamp( nIntensity, 0.0,1.0 ) * ( cResult - cTextureScreen.rgb );","if( grayscale ) {","cResult = vec3( cResult.r * 0.3 + cResult.g * 0.59 + cResult.b * 0.11 );","}","gl_FragColor =  vec4( cResult, cTextureScreen.a );","}"].join("\n")}}},274:function(e,t){function i(e){throw new Error("Cannot find module '"+e+"'.")}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=274},275:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i(349),i(1)),r=i(348),o=i(225),s=i(343);r.a.production&&i.i(n.a)(),i.i(o.a)().bootstrapModuleFactory(s.a)},341:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=[""]},342:function(e,t,i){"use strict";var n=i(346),r=i(133),o=i(38),s=i(87),a=i(49),h=i(46),l=i(65),u=i(341),c=i(230),p=i(345),m=i(105),d=i(35),_=i(26),v=i(54),f=i(55),g=i(71),S=i(107),y=i(106),w=i(104),b=i(103);i.d(t,"a",function(){return P});var x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),I=function(){function e(){this._changed=!1,this.context=new n.a}return e.prototype.ngOnDetach=function(e,t,i){},e.prototype.ngOnDestroy=function(){},e.prototype.ngDoCheck=function(e,t,i){var n=this._changed;return this._changed=!1,n},e.prototype.checkHost=function(e,t,i,n){},e.prototype.handleEvent=function(e,t){var i=!0;return i},e.prototype.subscribe=function(e,t){this._eventHandler=t},e}(),M=o.createRenderComponentType("",0,s.b.None,[],{}),C=function(e){function t(i,n,r,o){return e.call(this,t,M,a.a.HOST,i,n,r,o,h.b.CheckAlways)||this}return x(t,e),t.prototype.createInternal=function(e){return this._el_0=o.selectOrCreateRenderHostElement(this.renderer,"app-root",o.EMPTY_INLINE_ARRAY,e,null),this.compView_0=new L(this.viewUtils,this,0,this._el_0),this._AppComponent_0_3=new I,this.compView_0.create(this._AppComponent_0_3.context),this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],null),new l.a(0,this,this._el_0,this._AppComponent_0_3.context)},t.prototype.injectorGetInternal=function(e,t,i){return e===n.a&&0===t?this._AppComponent_0_3.context:i},t.prototype.detectChangesInternal=function(e){this._AppComponent_0_3.ngDoCheck(this,this._el_0,e),this.compView_0.internalDetectChanges(e)},t.prototype.destroyInternal=function(){this.compView_0.destroy()},t.prototype.visitRootNodesInternal=function(e,t){e(this._el_0,t)},t}(r.a),P=new l.b("app-root",C,n.a),D=[u.a],T=o.createRenderComponentType("",0,s.b.Emulated,D,{}),L=function(e){function t(i,n,r,o){return e.call(this,t,T,a.a.COMPONENT,i,n,r,o,h.b.CheckAlways)||this}return x(t,e),t.prototype.createInternal=function(e){var t=this.renderer.createViewRoot(this.parentElement);this._el_0=o.createRenderElement(this.renderer,t,"app-scene",o.EMPTY_INLINE_ARRAY,null),this.compView_0=new p.a(this.viewUtils,this,0,this._el_0),this._SceneComponent_0_3=new p.b(this.parentView.injectorGet(m.a,this.parentIndex),this.parentView.injectorGet(d.a,this.parentIndex),this.parentView.injectorGet(_.a,this.parentIndex),this.parentView.injectorGet(v.a,this.parentIndex),this.parentView.injectorGet(f.a,this.parentIndex),this.parentView.injectorGet(g.a,this.parentIndex),this.parentView.injectorGet(S.a,this.parentIndex),this.parentView.injectorGet(y.a,this.parentIndex),this.parentView.injectorGet(w.a,this.parentIndex),this.parentView.injectorGet(b.a,this.parentIndex)),this.compView_0.create(this._SceneComponent_0_3.context);var i=o.subscribeToRenderElement(this,this._el_0,new o.InlineArray2(2,"keypress","window"),this.eventHandler(this.handleEvent_0));return this.init(null,this.renderer.directRenderer?null:[this._el_0],[i]),
null},t.prototype.injectorGetInternal=function(e,t,i){return e===c.a&&0===t?this._SceneComponent_0_3.context:i},t.prototype.detectChangesInternal=function(e){this._SceneComponent_0_3.ngDoCheck(this,this._el_0,e),this.compView_0.internalDetectChanges(e),e||0===this.numberOfChecks&&this._SceneComponent_0_3.context.ngAfterViewInit()},t.prototype.destroyInternal=function(){this.compView_0.destroy()},t.prototype.handleEvent_0=function(e,t){this.compView_0.markPathToRootAsCheckOnce();var i=!0;return i=this._SceneComponent_0_3.handleEvent(e,t)&&i},t}(r.a)},343:function(e,t,i){"use strict";var n=i(132),r=i(347),o=i(181),s=i(193),a=i(151),h=i(210),l=i(324),u=i(326),c=i(61),p=i(80),m=i(90),d=i(81),_=i(48),v=i(101),f=i(40),g=i(102),S=i(100),y=i(156),w=i(121),b=i(38),x=i(152),I=i(68),M=i(148),C=i(95),P=i(221),D=i(149),T=i(105),L=i(35),R=i(26),A=i(54),F=i(55),E=i(71),j=i(107),O=i(106),z=i(104),U=i(103),N=i(342),V=i(131),H=i(62),G=i(153),k=i(154),B=i(67),W=i(99),X=i(84),Y=i(129),K=i(70),q=i(98),Z=i(89),Q=i(136),$=i(123),J=i(124),ee=i(69),te=i(223);i.d(t,"a",function(){return re});var ie=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ne=function(e){function t(t){return e.call(this,t,[N.a],[N.a])||this}return ie(t,e),Object.defineProperty(t.prototype,"_LOCALE_ID_7",{get:function(){return null==this.__LOCALE_ID_7&&(this.__LOCALE_ID_7=s.a(this.parent.get(V.a,null))),this.__LOCALE_ID_7},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_NgLocalization_8",{get:function(){return null==this.__NgLocalization_8&&(this.__NgLocalization_8=new c.a(this._LOCALE_ID_7)),this.__NgLocalization_8},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ApplicationRef_13",{get:function(){return null==this.__ApplicationRef_13&&(this.__ApplicationRef_13=this._ApplicationRef__12),this.__ApplicationRef_13},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Compiler_14",{get:function(){return null==this.__Compiler_14&&(this.__Compiler_14=new _.a),this.__Compiler_14},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_APP_ID_15",{get:function(){return null==this.__APP_ID_15&&(this.__APP_ID_15=H.a()),this.__APP_ID_15},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DOCUMENT_16",{get:function(){return null==this.__DOCUMENT_16&&(this.__DOCUMENT_16=a.a()),this.__DOCUMENT_16},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_HAMMER_GESTURE_CONFIG_17",{get:function(){return null==this.__HAMMER_GESTURE_CONFIG_17&&(this.__HAMMER_GESTURE_CONFIG_17=new v.a),this.__HAMMER_GESTURE_CONFIG_17},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_EVENT_MANAGER_PLUGINS_18",{get:function(){return null==this.__EVENT_MANAGER_PLUGINS_18&&(this.__EVENT_MANAGER_PLUGINS_18=[new G.a,new k.a,new v.b(this._HAMMER_GESTURE_CONFIG_17)]),this.__EVENT_MANAGER_PLUGINS_18},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_EventManager_19",{get:function(){return null==this.__EventManager_19&&(this.__EventManager_19=new f.a(this._EVENT_MANAGER_PLUGINS_18,this.parent.get(B.a))),this.__EventManager_19},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_AnimationDriver_21",{get:function(){return null==this.__AnimationDriver_21&&(this.__AnimationDriver_21=a.b()),this.__AnimationDriver_21},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DomRootRenderer_22",{get:function(){return null==this.__DomRootRenderer_22&&(this.__DomRootRenderer_22=new S.a(this._DOCUMENT_16,this._EventManager_19,this._DomSharedStylesHost_20,this._AnimationDriver_21,this._APP_ID_15)),this.__DomRootRenderer_22},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RootRenderer_23",{get:function(){return null==this.__RootRenderer_23&&(this.__RootRenderer_23=W.a(this._DomRootRenderer_22,this.parent.get(W.b,null),this.parent.get(d.a,null))),this.__RootRenderer_23},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_DomSanitizer_24",{get:function(){return null==this.__DomSanitizer_24&&(this.__DomSanitizer_24=new y.a),this.__DomSanitizer_24},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Sanitizer_25",{get:function(){return null==this.__Sanitizer_25&&(this.__Sanitizer_25=this._DomSanitizer_24),this.__Sanitizer_25},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_AnimationQueue_26",{get:function(){return null==this.__AnimationQueue_26&&(this.__AnimationQueue_26=new w.a(this.parent.get(B.a))),this.__AnimationQueue_26},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ViewUtils_27",{get:function(){return null==this.__ViewUtils_27&&(this.__ViewUtils_27=new b.ViewUtils(this._RootRenderer_23,this._Sanitizer_25,this._AnimationQueue_26)),this.__ViewUtils_27},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_IterableDiffers_28",{get:function(){return null==this.__IterableDiffers_28&&(this.__IterableDiffers_28=s.b()),this.__IterableDiffers_28},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_KeyValueDiffers_29",{get:function(){return null==this.__KeyValueDiffers_29&&(this.__KeyValueDiffers_29=s.c()),this.__KeyValueDiffers_29},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_SharedStylesHost_30",{get:function(){return null==this.__SharedStylesHost_30&&(this.__SharedStylesHost_30=this._DomSharedStylesHost_20),this.__SharedStylesHost_30},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Title_31",{get:function(){return null==this.__Title_31&&(this.__Title_31=new x.a),this.__Title_31},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RadioControlRegistry_32",{get:function(){return null==this.__RadioControlRegistry_32&&(this.__RadioControlRegistry_32=new I.a),this.__RadioControlRegistry_32},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_BrowserXhr_33",{get:function(){return null==this.__BrowserXhr_33&&(this.__BrowserXhr_33=new M.a),this.__BrowserXhr_33},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ResponseOptions_34",{get:function(){return null==this.__ResponseOptions_34&&(this.__ResponseOptions_34=new C.a),this.__ResponseOptions_34},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_XSRFStrategy_35",{get:function(){return null==this.__XSRFStrategy_35&&(this.__XSRFStrategy_35=u.a()),this.__XSRFStrategy_35},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_XHRBackend_36",{get:function(){return null==this.__XHRBackend_36&&(this.__XHRBackend_36=new P.a(this._BrowserXhr_33,this._ResponseOptions_34,this._XSRFStrategy_35)),this.__XHRBackend_36},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_RequestOptions_37",{get:function(){return null==this.__RequestOptions_37&&(this.__RequestOptions_37=new D.a),this.__RequestOptions_37},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_Http_38",{get:function(){return null==this.__Http_38&&(this.__Http_38=u.b(this._XHRBackend_36,this._RequestOptions_37)),this.__Http_38},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_PreloadeffectService_39",{get:function(){return null==this.__PreloadeffectService_39&&(this.__PreloadeffectService_39=new T.a),this.__PreloadeffectService_39},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_UtilsService_40",{get:function(){return null==this.__UtilsService_40&&(this.__UtilsService_40=new L.a),this.__UtilsService_40},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_AssetService_41",{get:function(){return null==this.__AssetService_41&&(this.__AssetService_41=new R.a),this.__AssetService_41},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_CameraService_42",{get:function(){return null==this.__CameraService_42&&(this.__CameraService_42=new A.a(this._UtilsService_40)),this.__CameraService_42},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_PlanetService_43",{get:function(){return null==this.__PlanetService_43&&(this.__PlanetService_43=new F.a(this._AssetService_41)),this.__PlanetService_43},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_LightService_44",{get:function(){return null==this.__LightService_44&&(this.__LightService_44=new E.a(this._PlanetService_43)),this.__LightService_44},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_SkyboxService_45",{get:function(){return null==this.__SkyboxService_45&&(this.__SkyboxService_45=new j.a(this._AssetService_41)),this.__SkyboxService_45},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_ShipService_46",{get:function(){return null==this.__ShipService_46&&(this.__ShipService_46=new O.a(this._UtilsService_40,this._AssetService_41,this._LightService_44,this._CameraService_42)),this.__ShipService_46},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_PanelService_47",{get:function(){return null==this.__PanelService_47&&(this.__PanelService_47=new z.a(this._UtilsService_40,this._AssetService_41,this._CameraService_42)),this.__PanelService_47},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_AsteroidService_48",{get:function(){return null==this.__AsteroidService_48&&(this.__AsteroidService_48=new U.a(this._UtilsService_40,this._AssetService_41,this._PlanetService_43)),this.__AsteroidService_48},enumerable:!0,configurable:!0}),t.prototype.createInternal=function(){return this._CommonModule_0=new o.a,this._ApplicationModule_1=new s.d,this._BrowserModule_2=new a.c(this.parent.get(a.c,null)),this._InternalFormsSharedModule_3=new h.a,this._FormsModule_4=new l.a,this._HttpModule_5=new u.c,this._AppModule_6=new r.a,this._ErrorHandler_9=a.d(),this._ApplicationInitStatus_10=new p.a(this.parent.get(p.b,null)),this._Testability_11=new m.a(this.parent.get(B.a)),this._ApplicationRef__12=new d.b(this.parent.get(B.a),this.parent.get(X.a),this,this._ErrorHandler_9,this,this._ApplicationInitStatus_10,this.parent.get(m.b,null),this._Testability_11),this._DomSharedStylesHost_20=new g.a(this._DOCUMENT_16),this._AppModule_6},t.prototype.getInternal=function(e,t){return e===o.a?this._CommonModule_0:e===s.d?this._ApplicationModule_1:e===a.c?this._BrowserModule_2:e===h.a?this._InternalFormsSharedModule_3:e===l.a?this._FormsModule_4:e===u.c?this._HttpModule_5:e===r.a?this._AppModule_6:e===V.a?this._LOCALE_ID_7:e===c.b?this._NgLocalization_8:e===Y.a?this._ErrorHandler_9:e===p.a?this._ApplicationInitStatus_10:e===m.a?this._Testability_11:e===d.b?this._ApplicationRef__12:e===d.c?this._ApplicationRef_13:e===_.a?this._Compiler_14:e===H.b?this._APP_ID_15:e===K.a?this._DOCUMENT_16:e===v.c?this._HAMMER_GESTURE_CONFIG_17:e===f.b?this._EVENT_MANAGER_PLUGINS_18:e===f.a?this._EventManager_19:e===g.a?this._DomSharedStylesHost_20:e===q.a?this._AnimationDriver_21:e===S.b?this._DomRootRenderer_22:e===Z.a?this._RootRenderer_23:e===y.b?this._DomSanitizer_24:e===Q.a?this._Sanitizer_25:e===w.a?this._AnimationQueue_26:e===b.ViewUtils?this._ViewUtils_27:e===$.a?this._IterableDiffers_28:e===J.a?this._KeyValueDiffers_29:e===g.b?this._SharedStylesHost_30:e===x.a?this._Title_31:e===I.a?this._RadioControlRegistry_32:e===M.a?this._BrowserXhr_33:e===C.b?this._ResponseOptions_34:e===ee.a?this._XSRFStrategy_35:e===P.a?this._XHRBackend_36:e===D.b?this._RequestOptions_37:e===te.a?this._Http_38:e===T.a?this._PreloadeffectService_39:e===L.a?this._UtilsService_40:e===R.a?this._AssetService_41:e===A.a?this._CameraService_42:e===F.a?this._PlanetService_43:e===E.a?this._LightService_44:e===j.a?this._SkyboxService_45:e===O.a?this._ShipService_46:e===z.a?this._PanelService_47:e===U.a?this._AsteroidService_48:t},t.prototype.destroyInternal=function(){this._ApplicationRef__12.ngOnDestroy(),this._DomSharedStylesHost_20.ngOnDestroy()},t}(n.a),re=new n.b(ne,r.a)},344:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=[""]},345:function(e,t,i){"use strict";var n=i(230),r=i(133),o=i(38),s=i(87),a=i(49),h=i(46),l=i(65),u=i(105),c=i(35),p=i(26),m=i(54),d=i(55),_=i(71),v=i(107),f=i(106),g=i(104),S=i(103),y=i(344),w=i(201),b=i(66);i.d(t,"b",function(){return I}),i.d(t,"a",function(){return T});var x=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),I=function(){function e(e,t,i,r,o,s,a,h,l,u){this._changed=!1,this.context=new n.a(e,t,i,r,o,s,a,h,l,u)}return e.prototype.ngOnDetach=function(e,t,i){},e.prototype.ngOnDestroy=function(){},e.prototype.ngDoCheck=function(e,t,i){var n=this._changed;return this._changed=!1,n},e.prototype.checkHost=function(e,t,i,n){},e.prototype.handleEvent=function(e,t){var i=!0;if("window:keypress"==e){var n=this.context.handleKeyboardEvent(t)!==!1;i=n&&i}return i},e.prototype.subscribe=function(e,t){this._eventHandler=t},e}(),M=o.createRenderComponentType("",0,s.b.None,[],{}),C=function(e){function t(i,n,r,o){return e.call(this,t,M,a.a.HOST,i,n,r,o,h.b.CheckAlways)||this}return x(t,e),t.prototype.createInternal=function(e){this._el_0=o.selectOrCreateRenderHostElement(this.renderer,"app-scene",o.EMPTY_INLINE_ARRAY,e,null),this.compView_0=new T(this.viewUtils,this,0,this._el_0),this._SceneComponent_0_3=new I(this.injectorGet(u.a,this.parentIndex),this.injectorGet(c.a,this.parentIndex),this.injectorGet(p.a,this.parentIndex),this.injectorGet(m.a,this.parentIndex),this.injectorGet(d.a,this.parentIndex),this.injectorGet(_.a,this.parentIndex),this.injectorGet(v.a,this.parentIndex),this.injectorGet(f.a,this.parentIndex),this.injectorGet(g.a,this.parentIndex),this.injectorGet(S.a,this.parentIndex)),this.compView_0.create(this._SceneComponent_0_3.context);var t=o.subscribeToRenderElement(this,this._el_0,new o.InlineArray2(2,"keypress","window"),this.eventHandler(this.handleEvent_0));return this.init(this._el_0,this.renderer.directRenderer?null:[this._el_0],[t]),new l.a(0,this,this._el_0,this._SceneComponent_0_3.context)},t.prototype.injectorGetInternal=function(e,t,i){return e===n.a&&0===t?this._SceneComponent_0_3.context:i},t.prototype.detectChangesInternal=function(e){this._SceneComponent_0_3.ngDoCheck(this,this._el_0,e),this.compView_0.internalDetectChanges(e),e||0===this.numberOfChecks&&this._SceneComponent_0_3.context.ngAfterViewInit()},t.prototype.destroyInternal=function(){this.compView_0.destroy()},t.prototype.visitRootNodesInternal=function(e,t){e(this._el_0,t)},t.prototype.handleEvent_0=function(e,t){this.compView_0.markPathToRootAsCheckOnce();var i=!0;return i=this._SceneComponent_0_3.handleEvent(e,t)&&i},t}(r.a),P=(new l.b("app-scene",C,n.a),[y.a]),D=o.createRenderComponentType("",0,s.b.Emulated,P,{}),T=function(e){function t(i,n,r,o){return e.call(this,t,D,a.a.COMPONENT,i,n,r,o,h.b.CheckAlways)||this}return x(t,e),t.prototype.createInternal=function(e){var t=this.renderer.createViewRoot(this.parentElement);this._viewQuery_canvas_0=new w.a,this._el_0=o.createRenderElement(this.renderer,t,"canvas",o.EMPTY_INLINE_ARRAY,null),this._text_1=this.renderer.createText(t,"\n",null);var i=o.subscribeToRenderElement(this,this._el_0,new o.InlineArrayDynamic(20,"resize","window","dragenter",null,"dragleave",null,"dragover",null,"drop",null,"mousedown",null,"mousemove",null,"mouseup",null,"keypress",null,"wheel",null),this.eventHandler(this.handleEvent_0));return this._viewQuery_canvas_0.reset([new b.a(this._el_0)]),this.context.canvasRef=this._viewQuery_canvas_0.first,this.init(null,this.renderer.directRenderer?null:[this._el_0,this._text_1],[i]),null},t.prototype.handleEvent_0=function(e,t){this.markPathToRootAsCheckOnce();var i=!0;if("window:resize"==e){var n=this.context.onResize(t)!==!1;i=n&&i}if("dragenter"==e){var r=this.context.onDragEnter(t)!==!1;i=r&&i}if("dragleave"==e){var o=this.context.onDragLeave(t)!==!1;i=o&&i}if("dragover"==e){var s=this.context.onDragOver(t)!==!1;i=s&&i}if("drop"==e){var a=this.context.onDrop(t)!==!1;i=a&&i}if("mousedown"==e){var h=this.context.onMouseDown(t)!==!1;i=h&&i}if("mousemove"==e){var l=this.context.onMouseMove(t)!==!1;i=l&&i}if("mouseup"==e){var u=this.context.onMouseUp(t)!==!1;i=u&&i}if("keypress"==e){var c=this.context.onKeyPress(t)!==!1;i=c&&i}if("wheel"==e){var p=this.context.onWheel(t)!==!1;i=p&&i}return i},t}(r.a)},346:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(520),r=function(){function e(){if(n.webgl)console.log("OK");else{var e=n.getWebGLErrorMessage();document.getElementById("container").appendChild(e),console.log("NOT OK")}}return e.ctorParameters=function(){return[]},e}()},347:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e}()},348:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={production:!0}},349:function(e,t,i){"use strict";var n=i(363),r=(i.n(n),i(356)),o=(i.n(r),i(352)),s=(i.n(o),i(358)),a=(i.n(s),i(357)),h=(i.n(a),i(355)),l=(i.n(h),i(354)),u=(i.n(l),i(362)),c=(i.n(u),i(351)),p=(i.n(c),i(350)),m=(i.n(p),i(360)),d=(i.n(m),i(353)),_=(i.n(d),i(361)),v=(i.n(_),i(359)),f=(i.n(v),i(364)),g=(i.n(f),i(527));i.n(g)},35:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e.prototype.randomIntFromInterval=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.ctorParameters=function(){return[]},e}()},514:function(e,t,i){e.exports=function(e){function t(t,i,o,s){this.strength=void 0!==i?i:1,this.radius=o,this.threshold=s,this.resolution=void 0!==t?new e.Vector2(t.x,t.y):new e.Vector2(256,256);var a={minFilter:e.LinearFilter,magFilter:e.LinearFilter,format:e.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var h=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2);this.renderTargetBright=new e.WebGLRenderTarget(h,l,a),this.renderTargetBright.texture.generateMipmaps=!1;for(var u=0;u<this.nMips;u++){var c=new e.WebGLRenderTarget(h,l,a);c.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(c);var c=new e.WebGLRenderTarget(h,l,a);c.texture.generateMipmaps=!1,this.renderTargetsVertical.push(c),h=Math.round(h/2),l=Math.round(l/2)}void 0===r&&console.error("UnrealBloomPass relies on LuminosityHighPassShader");var p=r;this.highPassUniforms=e.UniformsUtils.clone(p.uniforms),this.highPassUniforms.luminosityThreshold.value=s,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new e.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:p.vertexShader,fragmentShader:p.fragmentShader,defines:{}}),this.separableBlurMaterials=[];for(var m=[3,5,7,9,11],h=Math.round(this.resolution.x/2),l=Math.round(this.resolution.y/2),u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(m[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new e.Vector2(h,l),h=Math.round(h/2),l=Math.round(l/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=i,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;var d=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=d,this.bloomTintColors=[new e.Vector3(1,1,1),new e.Vector3(1,1,1),new e.Vector3(1,1,1),new e.Vector3(1,1,1),new e.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===n.CopyShader&&console.error("BloomPass relies on EffectComposer.CopyShader");var _=n.CopyShader;this.copyUniforms=e.UniformsUtils.clone(_.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new e.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,blending:e.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new e.Color,this.oldClearAlpha=1,this.camera=new e.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new e.Scene,this.quad=new e.Mesh(new e.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)}var n=i(179)(e),r=i(519)(e);return t.prototype={constructor:t,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length();e++)this.renderTargetsHorizontal[e].dispose();for(var e=0;e<this.renderTargetsVertical.length();e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(t,i){var n=Math.round(t/2),r=Math.round(i/2);this.renderTargetBright.setSize(n,r);for(var o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(n,r),this.renderTargetsVertical[o].setSize(n,r),this.separableBlurMaterials[o].uniforms.texSize.value=new e.Vector2(n,r),n=Math.round(n/2),r=Math.round(r/2)},render:function(i,n,r,o,s){this.oldClearColor.copy(i.getClearColor()),this.oldClearAlpha=i.getClearAlpha();var a=i.autoClear;i.autoClear=!1,i.setClearColor(new e.Color(0,0,0),0),s&&i.context.disable(i.context.STENCIL_TEST),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,i.render(this.scene,this.camera,this.renderTargetBright,!0);for(var h=this.renderTargetBright,l=0;l<this.nMips;l++)this.quad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=h.texture,this.separableBlurMaterials[l].uniforms.direction.value=t.BlurDirectionX,i.render(this.scene,this.camera,this.renderTargetsHorizontal[l],!0),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=t.BlurDirectionY,i.render(this.scene,this.camera,this.renderTargetsVertical[l],!0),h=this.renderTargetsVertical[l];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,i.render(this.scene,this.camera,this.renderTargetsHorizontal[0],!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&i.context.enable(i.context.STENCIL_TEST),i.render(this.scene,this.camera,r,!1),i.setClearColor(this.oldClearColor,this.oldClearAlpha),i.autoClear=a},getSeperableBlurMaterial:function(t){return new e.ShaderMaterial({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new e.Vector2(.5,.5)},direction:{value:new e.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n                    void main() {\n                        vUv = uv;\n                        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                    }",fragmentShader:"#include <common>                    varying vec2 vUv;\n                    uniform sampler2D colorTexture;\n                    uniform vec2 texSize;                    uniform vec2 direction;                                        float gaussianPdf(in float x, in float sigma) {                        return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;                    }                    void main() {\n                        vec2 invSize = 1.0 / texSize;                        float fSigma = float(SIGMA);                        float weightSum = gaussianPdf(0.0, fSigma);                        vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;                        for( int i = 1; i < KERNEL_RADIUS; i ++ ) {                            float x = float(i);                            float w = gaussianPdf(x, fSigma);                            vec2 uvOffset = direction * invSize * x;                            vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;                            vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;                            diffuseSum += (sample1 + sample2) * w;                            weightSum += 2.0 * w;                        }                        gl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n                    }"})},getCompositeMaterial:function(t){return new e.ShaderMaterial({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n                    void main() {\n                        vUv = uv;\n                        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                    }",fragmentShader:"varying vec2 vUv;                    uniform sampler2D blurTexture1;                    uniform sampler2D blurTexture2;                    uniform sampler2D blurTexture3;                    uniform sampler2D blurTexture4;                    uniform sampler2D blurTexture5;                    uniform sampler2D dirtTexture;                    uniform float bloomStrength;                    uniform float bloomRadius;                    uniform float bloomFactors[NUM_MIPS];                    uniform vec3 bloomTintColors[NUM_MIPS];                                        float lerpBloomFactor(const in float factor) {                         float mirrorFactor = 1.2 - factor;                        return mix(factor, mirrorFactor, bloomRadius);                    }                                        void main() {                        gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +                                                     lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +                                                     lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +                                                     lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +                                                     lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );                    }"})}},t.BlurDirectionX=new e.Vector2(1,0),t.BlurDirectionY=new e.Vector2(0,1),t}},515:function(e,t,i){e.exports=function(e){function t(i,o,s,a){i=void 0!==i?i:1,o=void 0!==o?o:25,s=void 0!==s?s:4,a=void 0!==a?a:256;var h={minFilter:e.LinearFilter,magFilter:e.LinearFilter,format:e.RGBAFormat};this.renderTargetX=new e.WebGLRenderTarget(a,a,h),this.renderTargetY=new e.WebGLRenderTarget(a,a,h),void 0===n.CopyShader&&console.error("BloomPass relies on EffectComposer.CopyShader");var l=n.CopyShader;this.copyUniforms=e.UniformsUtils.clone(l.uniforms),this.copyUniforms.opacity.value=i,this.materialCopy=new e.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:e.AdditiveBlending,transparent:!0}),void 0===r&&console.error("THREE.BloomPass relies on ConvolutionShader");var u=r;this.convolutionUniforms=e.UniformsUtils.clone(u.uniforms),this.convolutionUniforms.uImageIncrement.value=t.blurX,this.convolutionUniforms.cKernel.value=r.buildKernel(s),this.materialConvolution=new e.ShaderMaterial({uniforms:this.convolutionUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,defines:{KERNEL_SIZE_FLOAT:o.toFixed(1),KERNEL_SIZE_INT:o.toFixed(0)}}),this.needsSwap=!1,this.camera=new e.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new e.Scene,this.quad=new e.Mesh(new e.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)}var n=i(179)(e),r=i(516)(e);return t.prototype={constructor:t,render:function(e,i,n,r,o){o&&e.context.disable(e.context.STENCIL_TEST),this.quad.material=this.materialConvolution,this.convolutionUniforms.tDiffuse.value=n.texture,this.convolutionUniforms.uImageIncrement.value=t.blurX,e.render(this.scene,this.camera,this.renderTargetX,!0),this.convolutionUniforms.tDiffuse.value=this.renderTargetX.texture,this.convolutionUniforms.uImageIncrement.value=t.blurY,e.render(this.scene,this.camera,this.renderTargetY,!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetY.texture,o&&e.context.enable(e.context.STENCIL_TEST),e.render(this.scene,this.camera,n,this.clear)}},t.blurX=new e.Vector2(.001953125,0),t.blurY=new e.Vector2(0,.001953125),t}},516:function(e,t){e.exports=function(e){return{defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new e.Vector2(.001953125,0)},cKernel:{value:[]}},vertexShader:["uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float cKernel[ KERNEL_SIZE_INT ];","uniform sampler2D tDiffuse;","uniform vec2 uImageIncrement;","varying vec2 vUv;","void main() {","vec2 imageCoord = vUv;","vec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );","for( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {","sum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];","imageCoord += uImageIncrement;","}","gl_FragColor = sum;","}"].join("\n"),buildKernel:function(e){function t(e,t){return Math.exp(-(e*e)/(2*t*t))}var i,n,r,o,s=25,a=2*Math.ceil(3*e)+1;for(a>s&&(a=s),o=.5*(a-1),n=new Array(a),r=0,i=0;i<a;++i)n[i]=t(i-o,e),r+=n[i];for(i=0;i<a;++i)n[i]/=r;return n}}}},517:function(e,t){e.exports=function(e){return{uniforms:{tDiffuse:{value:null},resolution:{value:new e.Vector2(1/1024,1/512)}},vertexShader:["void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","#define FXAA_REDUCE_MIN   (1.0/128.0)","#define FXAA_REDUCE_MUL   (1.0/8.0)","#define FXAA_SPAN_MAX     8.0","void main() {","vec3 rgbNW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbNE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ).xyz;","vec3 rgbSW = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ).xyz;","vec3 rgbSE = texture2D( tDiffuse, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ).xyz;","vec4 rgbaM  = texture2D( tDiffuse,  gl_FragCoord.xy  * resolution );","vec3 rgbM  = rgbaM.xyz;","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float lumaNW = dot( rgbNW, luma );","float lumaNE = dot( rgbNE, luma );","float lumaSW = dot( rgbSW, luma );","float lumaSE = dot( rgbSE, luma );","float lumaM  = dot( rgbM,  luma );","float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );","float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );","vec2 dir;","dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));","dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));","float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );","float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );","dir = min( vec2( FXAA_SPAN_MAX,  FXAA_SPAN_MAX),","max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),","dir * rcpDirMin)) * resolution;","vec4 rgbA = (1.0/2.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (1.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (2.0/3.0 - 0.5)));","vec4 rgbB = rgbA * (1.0/2.0) + (1.0/4.0) * (","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (0.0/3.0 - 0.5)) +","texture2D(tDiffuse,  gl_FragCoord.xy  * resolution + dir * (3.0/3.0 - 0.5)));","float lumaB = dot(rgbB, vec4(luma, 0.0));","if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) ) {","gl_FragColor = rgbA;","} else {","gl_FragColor = rgbB;","}","}"].join("\n")
}}},518:function(e,t,i){e.exports=function(e){function t(t,i,r,o){var s=n;this.uniforms=e.UniformsUtils.clone(s.uniforms),this.material=new e.ShaderMaterial({uniforms:this.uniforms,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader}),void 0!==o&&(this.uniforms.grayscale.value=o),void 0!==t&&(this.uniforms.nIntensity.value=t),void 0!==i&&(this.uniforms.sIntensity.value=i),void 0!==r&&(this.uniforms.sCount.value=r),this.camera=new e.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new e.Scene,this.quad=new e.Mesh(new e.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)}var n=i(273)(e);return t.prototype={constructor:t,render:function(e,t,i,n,r){this.uniforms.tDiffuse.value=i.texture,this.uniforms.time.value+=n,this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}},t}},519:function(e,t){e.exports=function(e){return{shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new e.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","gl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")}}},520:function(e,t,i){var n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,i,r;e=e||{},t=void 0!==e.parent?e.parent:document.body,i=void 0!==e.id?e.id:"oldie",r=n.getWebGLErrorMessage(),r.id=i,t.appendChild(r)}};e.exports=n},528:function(e,t,i){e.exports=i(275)},54:function(e,t,i){"use strict";var n=i(24),r=i(176),o=(i.n(r),i(35));i.d(t,"a",function(){return s});var s=function(){function e(e){this.utils=e,this.listener1=new n.AudioListener,this.listener2=new n.AudioListener,this.listener3=new n.AudioListener,this.fieldOfView=75,this.nearClippingPane=1,this.farClippingPane=1100}return Object.defineProperty(e.prototype,"camera",{get:function(){return this.activeCamera},enumerable:!0,configurable:!0}),e.prototype.beforeIntro=function(){this.toCam1(),this.camera1.fov=200,this.update()},e.prototype.intro=function(){var e=this;r.TweenMax.to(this.camera1,1,{fov:this.fieldOfView,delay:.5,onUpdate:function(){e.update()}})},e.prototype.toCam1=function(){this.activeCamera=this.camera1,this.update()},e.prototype.toCam2=function(){this.activeCamera=this.camera2,this.update()},e.prototype.toCam3=function(){this.activeCamera=this.camera3,this.update()},e.prototype.create=function(e,t){this.scene=e,this.camera1=new n.PerspectiveCamera(this.fieldOfView,t.clientWidth/t.clientHeight,this.nearClippingPane,this.farClippingPane),this.camera1.position.set(0,2,2),this.cameraTarget=new n.Vector3(0,0,0),this.camera1.lookAt(this.cameraTarget),this.camera1.add(this.listener1),this.camera2=new n.PerspectiveCamera(this.fieldOfView,t.clientWidth/t.clientHeight,this.nearClippingPane,this.farClippingPane),this.camera2.position.set(20,5,-20);var i=new n.Vector3(0,0,0);this.camera2.lookAt(i),this.camera2.add(this.listener2),this.camera3=new n.PerspectiveCamera(this.fieldOfView,t.clientWidth/t.clientHeight,this.nearClippingPane,this.farClippingPane),this.camera3.position.set(15,-10,-40);var r=new n.Vector3(-33,-35,-60);this.camera3.lookAt(r),this.camera3.add(this.listener3),this.activeCamera=this.camera1},e.prototype.update=function(){this.activeCamera.updateProjectionMatrix()},e.prototype.animate=function(){this.camera.userData.hasOwnProperty("initialPosX")||(this.camera.userData.initialPosX=this.camera.position.x,this.camera.userData.initialPosY=this.camera.position.y,this.camera.userData.initialPosZ=this.camera.position.z);var e=.01,t=this.camera.userData.initialPosX-e,i=this.camera.userData.initialPosX+e,n=this.camera.userData.initialPosY-e,o=this.camera.userData.initialPosY+e,s=this,a=this.utils.randomIntFromInterval(1,3);r.TweenMax.to(this.camera.position,a,{bezier:[{x:this.utils.randomIntFromInterval(1e3*t,1e3*i)/1e3,y:this.utils.randomIntFromInterval(1e3*n,1e3*o)/1e3},{x:this.utils.randomIntFromInterval(1e3*t,1e3*i)/1e3,y:this.utils.randomIntFromInterval(1e3*n,1e3*o)/1e3}],ease:r.Power2.easeInOut,onComplete:function(){s.animate()}})},e.ctorParameters=function(){return[{type:o.a}]},e}()},55:function(e,t,i){"use strict";var n=i(24),r=i(26);i.d(t,"a",function(){return o});var o=function(){function e(e){this.assets=e,this.planetRadius=40,this.planetPosition={planetPositionX:-33,planetPositionY:-35,planetPositionZ:-60}}return e.prototype.create=function(e){this.scene=e,this.uniforms={fogDensity:{value:.03},fogColor:{value:new n.Vector3(0,0,0)},time:{value:.1},resolution:{value:new n.Vector2},uvScale:{value:new n.Vector2(1,1)},texture1:{value:this.assets.getTexture("planetcloud")},texture2:{value:this.assets.getTexture("planetsurface")}},this.uniforms.texture1.value.wrapS=this.uniforms.texture1.value.wrapT=n.RepeatWrapping,this.uniforms.texture2.value.wrapS=this.uniforms.texture2.value.wrapT=n.RepeatWrapping;var t=new n.ShaderMaterial({uniforms:this.uniforms,vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent});this.mesh=new n.Mesh(new n.SphereGeometry(this.planetRadius,64,64),t),this.mesh.receiveShadow=!0,this.mesh.position.set(this.planetPosition.planetPositionX,this.planetPosition.planetPositionY,this.planetPosition.planetPositionZ),this.scene.add(this.mesh);var i=.1,r=7,o=new n.ShaderMaterial({uniforms:{c:{type:"f",value:i},p:{type:"f",value:r},glowColor:{type:"c",value:new n.Color(9687023)},viewVector:{type:"v3",value:new n.Vector3(0,-50,-50)}},vertexShader:"\n        uniform vec3 viewVector;\n        uniform float c;\n        uniform float p;\n        varying float intensity;\n        void main() {\n          vec3 vNormal = normalize( normalMatrix * normal );\n          vec3 vNormel = normalize( normalMatrix * viewVector );\n          intensity = pow( c - dot(vNormal, vNormel), p );\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }",fragmentShader:"\n        uniform vec3 glowColor;\n        varying float intensity;\n        void main() \n        {\n          vec3 glow = glowColor * intensity;\n          gl_FragColor = vec4( glow, 1.0 );\n        }",side:n.BackSide,blending:n.AdditiveBlending,transparent:!0}),s=new n.Mesh(new n.SphereGeometry(40.1,64,64),o);this.mesh.add(s);var a=this.assets.getCubemap("ship"),h=new n.MeshStandardMaterial({map:this.assets.getTexture("planet_ring"),envMap:a,metalness:1,shading:n.SmoothShading,side:n.DoubleSide,transparent:!0,opacity:.5}),l=8;this.ringMesh1=new n.Mesh(this.assets.getModel("planet_ring"),h),this.ringMesh1.receiveShadow=!0,this.ringMesh1.castShadow=!0,this.ringMesh1.scale.set(l,l,l),this.ringMesh1.position.set(this.planetPosition.planetPositionX,this.planetPosition.planetPositionY+this.planetRadius/2,this.planetPosition.planetPositionZ),this.scene.add(this.ringMesh1),this.ringMesh2=new n.Mesh(this.assets.getModel("planet_ring"),h),this.ringMesh2.receiveShadow=!0,this.ringMesh2.castShadow=!0,this.ringMesh2.scale.set(l,l,l),this.ringMesh2.position.set(this.planetPosition.planetPositionX,this.planetPosition.planetPositionY+this.planetRadius/2-.5,this.planetPosition.planetPositionZ),this.scene.add(this.ringMesh2),this.ringMesh3=new n.Mesh(this.assets.getModel("planet_ring"),h),this.ringMesh3.receiveShadow=!0,this.ringMesh3.castShadow=!0,this.ringMesh3.scale.set(l,l,l),this.ringMesh3.position.set(this.planetPosition.planetPositionX,this.planetPosition.planetPositionY+this.planetRadius/2+.5,this.planetPosition.planetPositionZ),this.scene.add(this.ringMesh3)},e.prototype.animate=function(e){var t=(new Date,5*e.getDelta());this.uniforms.time.value+=.01*t,this.mesh.rotation.y+=.005*t,this.ringMesh1.rotation.y-=1e-4,this.ringMesh1.rotation.y-=2e-4,this.ringMesh1.rotation.y-=3e-4},e.ctorParameters=function(){return[{type:r.a}]},e}()},71:function(e,t,i){"use strict";var n=i(24),r=i(55);i.d(t,"a",function(){return o});var o=function(){function e(e){this.planetService=e,this.enableLightHelpers=!1,this.shadowMapSize=1028,this.sunLightAngle=0,this.movingLightDistance=100,this.movingLightRadius=1,this.movingLightSpeed=.99,this.movingLightDir=1,this.movingLightAngle=0,this.movingLightY=1}return e.prototype.create=function(e){this.scene=e,this.scene.add(new n.AmbientLight(8421504)),this.sunLight=new n.DirectionalLight(15582744,1),this.sunLight.position.set(-1,3,-5),this.sunLight.castShadow=!0,this.sunLight.shadow.bias=1e-4,this.sunLight.shadow.mapSize.width=this.shadowMapSize,this.sunLight.shadow.mapSize.height=this.shadowMapSize,this.scene.add(this.sunLight),this.enableLightHelpers&&this.sunLight.add(new n.DirectionalLightHelper(this.sunLight)),this.sunLight.lookAt(this.planetService.mesh.position),this.spotLight=new n.SpotLight(7784168),this.spotLight.position.set(10,3,10),this.spotLight.penumbra=.8,this.spotLight.castShadow=!0,this.spotLight.shadow.bias=1e-4,this.spotLight.shadow.mapSize.width=this.shadowMapSize,this.spotLight.shadow.mapSize.height=this.shadowMapSize,this.spotLight.distance=1e3,this.scene.add(this.spotLight),this.enableLightHelpers&&this.spotLight.add(new n.SpotLightHelper(this.spotLight)),this.spotLight.lookAt(this.planetService.mesh.position),this.movingLight=new n.PointLight(49151,1),this.movingLight.castShadow=!0,this.movingLight.distance=this.movingLightDistance+5,this.movingLight.shadow.mapSize.width=this.shadowMapSize,this.movingLight.shadow.mapSize.height=this.shadowMapSize,this.scene.add(this.movingLight),this.enableLightHelpers&&this.movingLight.add(new n.PointLightHelper(this.movingLight,.5)),this.projectionLight=new n.PointLight(49151,1),this.projectionLight.shadow.mapSize.width=this.shadowMapSize,this.projectionLight.shadow.mapSize.height=this.shadowMapSize,this.projectionLight.position.set(0,.5,.5),this.scene.add(this.projectionLight),this.enableLightHelpers&&this.projectionLight.add(new n.PointLightHelper(this.projectionLight,.5))},e.prototype.animate=function(){this.spotLight&&this.spotLight.lookAt(this.planetService.mesh.position),this.movingLight&&(this.movingLight.position.x=this.movingLightRadius*Math.sin(this.movingLightAngle),this.movingLight.position.z=this.movingLightDistance+this.movingLightRadius*Math.cos(this.movingLightAngle),this.movingLight.position.y=this.movingLightY,this.movingLightAngle+=this.movingLightSpeed),this.sunLight&&(this.sunLightAngle+=.001,this.sunLight.position.x=10*Math.sin(this.sunLightAngle),this.sunLight.position.y=10*Math.cos(this.sunLightAngle),this.sunLight.lookAt(this.planetService.mesh.position))},e.ctorParameters=function(){return[{type:r.a}]},e}()}},[528]);